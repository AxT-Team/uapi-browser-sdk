/* tslint:disable */
/* eslint-disable */
/**
 * UAPI
 * UAPI 官方接口文档
 *
 * The version of the OpenAPI document: 1.0.0
 * 
 *
 * NOTE: This class is auto generated by OpenAPI Generator (https://openapi-generator.tech).
 * https://openapi-generator.tech
 * Do not edit the class manually.
 */


import * as runtime from '../runtime';
import type {
  GetImageTobase64400Response,
  GetWebTomarkdownAsyncStatus200Response,
  GetWebTomarkdownAsyncStatus404Response,
  GetWebparseExtractimages200Response,
  GetWebparseExtractimages500Response,
  GetWebparseMetadata200Response,
  GetWebparseMetadata500Response,
  PostWebTomarkdownAsync202Response,
  PostWebTomarkdownAsync400Response,
} from '../models/index';
import {
    GetImageTobase64400ResponseFromJSON,
    GetImageTobase64400ResponseToJSON,
    GetWebTomarkdownAsyncStatus200ResponseFromJSON,
    GetWebTomarkdownAsyncStatus200ResponseToJSON,
    GetWebTomarkdownAsyncStatus404ResponseFromJSON,
    GetWebTomarkdownAsyncStatus404ResponseToJSON,
    GetWebparseExtractimages200ResponseFromJSON,
    GetWebparseExtractimages200ResponseToJSON,
    GetWebparseExtractimages500ResponseFromJSON,
    GetWebparseExtractimages500ResponseToJSON,
    GetWebparseMetadata200ResponseFromJSON,
    GetWebparseMetadata200ResponseToJSON,
    GetWebparseMetadata500ResponseFromJSON,
    GetWebparseMetadata500ResponseToJSON,
    PostWebTomarkdownAsync202ResponseFromJSON,
    PostWebTomarkdownAsync202ResponseToJSON,
    PostWebTomarkdownAsync400ResponseFromJSON,
    PostWebTomarkdownAsync400ResponseToJSON,
} from '../models/index';

export interface GetWebTomarkdownAsyncStatusRequest {
    taskId: string;
}

export interface GetWebparseExtractimagesRequest {
    url: string;
}

export interface GetWebparseMetadataRequest {
    url: string;
}

export interface PostWebTomarkdownAsyncRequest {
    url: string;
}

/**
 * 
 */
export class WebParseApi extends runtime.BaseAPI {

    /**
     * 提交了网页转 Markdown 任务后，想知道处理进度和结果？用这个接口来查询。  ## 功能概述 通过任务 ID 查询转换任务的当前状态、处理进度和最终结果。任务结果缓存 30 分钟，期间可重复查询。  ## 任务状态  | 状态 | 说明 | |------|------| | `pending` | 等待处理 | | `processing` | 处理中 | | `completed` | 已完成，可获取结果 | | `failed` | 失败 | | `timeout` | 超时（超过 60 秒） |  > [!NOTE] > 建议每 2-5 秒轮询一次，当状态为 `completed`、`failed` 或 `timeout` 时停止轮询。
     * 转换任务状态
     */
    async getWebTomarkdownAsyncStatusRaw(requestParameters: GetWebTomarkdownAsyncStatusRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GetWebTomarkdownAsyncStatus200Response>> {
        if (requestParameters['taskId'] == null) {
            throw new runtime.RequiredError(
                'taskId',
                'Required parameter "taskId" was null or undefined when calling getWebTomarkdownAsyncStatus().'
            );
        }

        const queryParameters: any = {};

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/web/tomarkdown/async/{task_id}`;
        urlPath = urlPath.replace(`{${"task_id"}}`, encodeURIComponent(String(requestParameters['taskId'])));

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GetWebTomarkdownAsyncStatus200ResponseFromJSON(jsonValue));
    }

    /**
     * 提交了网页转 Markdown 任务后，想知道处理进度和结果？用这个接口来查询。  ## 功能概述 通过任务 ID 查询转换任务的当前状态、处理进度和最终结果。任务结果缓存 30 分钟，期间可重复查询。  ## 任务状态  | 状态 | 说明 | |------|------| | `pending` | 等待处理 | | `processing` | 处理中 | | `completed` | 已完成，可获取结果 | | `failed` | 失败 | | `timeout` | 超时（超过 60 秒） |  > [!NOTE] > 建议每 2-5 秒轮询一次，当状态为 `completed`、`failed` 或 `timeout` 时停止轮询。
     * 转换任务状态
     */
    async getWebTomarkdownAsyncStatus(requestParameters: GetWebTomarkdownAsyncStatusRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GetWebTomarkdownAsyncStatus200Response> {
        const response = await this.getWebTomarkdownAsyncStatusRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * 想批量获取一个网页上的所有图片链接？这个接口帮你搞定。  ## 功能概述 提供一个网页 URL，返回该页面中所有图片的链接列表。适合用于图片采集、素材下载等场景。
     * 提取网页图片
     */
    async getWebparseExtractimagesRaw(requestParameters: GetWebparseExtractimagesRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GetWebparseExtractimages200Response>> {
        if (requestParameters['url'] == null) {
            throw new runtime.RequiredError(
                'url',
                'Required parameter "url" was null or undefined when calling getWebparseExtractimages().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['url'] != null) {
            queryParameters['url'] = requestParameters['url'];
        }

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/webparse/extractimages`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GetWebparseExtractimages200ResponseFromJSON(jsonValue));
    }

    /**
     * 想批量获取一个网页上的所有图片链接？这个接口帮你搞定。  ## 功能概述 提供一个网页 URL，返回该页面中所有图片的链接列表。适合用于图片采集、素材下载等场景。
     * 提取网页图片
     */
    async getWebparseExtractimages(requestParameters: GetWebparseExtractimagesRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GetWebparseExtractimages200Response> {
        const response = await this.getWebparseExtractimagesRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * 想在应用里做链接预览卡片？这个接口帮你一键获取网页的标题、描述、图标等信息。  ## 功能概述 提供一个网页 URL，返回该页面的元数据，包括标题、描述、关键词、Favicon、Open Graph 信息等。非常适合用于生成链接预览卡片或做 SEO 分析。
     * 提取网页元数据
     */
    async getWebparseMetadataRaw(requestParameters: GetWebparseMetadataRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<GetWebparseMetadata200Response>> {
        if (requestParameters['url'] == null) {
            throw new runtime.RequiredError(
                'url',
                'Required parameter "url" was null or undefined when calling getWebparseMetadata().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['url'] != null) {
            queryParameters['url'] = requestParameters['url'];
        }

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/webparse/metadata`;

        const response = await this.request({
            path: urlPath,
            method: 'GET',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => GetWebparseMetadata200ResponseFromJSON(jsonValue));
    }

    /**
     * 想在应用里做链接预览卡片？这个接口帮你一键获取网页的标题、描述、图标等信息。  ## 功能概述 提供一个网页 URL，返回该页面的元数据，包括标题、描述、关键词、Favicon、Open Graph 信息等。非常适合用于生成链接预览卡片或做 SEO 分析。
     * 提取网页元数据
     */
    async getWebparseMetadata(requestParameters: GetWebparseMetadataRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<GetWebparseMetadata200Response> {
        const response = await this.getWebparseMetadataRaw(requestParameters, initOverrides);
        return await response.value();
    }

    /**
     * 想把一个网页的内容转成干净的 Markdown 文本？这个异步接口可以帮你搞定，特别适合处理大型或复杂的网页。  ## 功能概述  > [!VIP] > 本 API 目前处于**限时免费**阶段，未来将转为付费服务。  提交一个网页 URL，我们会自动抓取主体内容，剔除广告、导航栏等干扰元素，并转换为 Markdown 格式。同时会提取标题、作者、发布日期等元数据，生成 YAML Front Matter。  任务提交后会立即返回任务 ID，你可以用它来查询处理进度和结果。单个任务最长处理 60 秒，结果缓存 30 分钟。
     * 网页转 Markdown
     */
    async postWebTomarkdownAsyncRaw(requestParameters: PostWebTomarkdownAsyncRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<runtime.ApiResponse<PostWebTomarkdownAsync202Response>> {
        if (requestParameters['url'] == null) {
            throw new runtime.RequiredError(
                'url',
                'Required parameter "url" was null or undefined when calling postWebTomarkdownAsync().'
            );
        }

        const queryParameters: any = {};

        if (requestParameters['url'] != null) {
            queryParameters['url'] = requestParameters['url'];
        }

        const headerParameters: runtime.HTTPHeaders = {};


        let urlPath = `/web/tomarkdown/async`;

        const response = await this.request({
            path: urlPath,
            method: 'POST',
            headers: headerParameters,
            query: queryParameters,
        }, initOverrides);

        return new runtime.JSONApiResponse(response, (jsonValue) => PostWebTomarkdownAsync202ResponseFromJSON(jsonValue));
    }

    /**
     * 想把一个网页的内容转成干净的 Markdown 文本？这个异步接口可以帮你搞定，特别适合处理大型或复杂的网页。  ## 功能概述  > [!VIP] > 本 API 目前处于**限时免费**阶段，未来将转为付费服务。  提交一个网页 URL，我们会自动抓取主体内容，剔除广告、导航栏等干扰元素，并转换为 Markdown 格式。同时会提取标题、作者、发布日期等元数据，生成 YAML Front Matter。  任务提交后会立即返回任务 ID，你可以用它来查询处理进度和结果。单个任务最长处理 60 秒，结果缓存 30 分钟。
     * 网页转 Markdown
     */
    async postWebTomarkdownAsync(requestParameters: PostWebTomarkdownAsyncRequest, initOverrides?: RequestInit | runtime.InitOverrideFunction): Promise<PostWebTomarkdownAsync202Response> {
        const response = await this.postWebTomarkdownAsyncRaw(requestParameters, initOverrides);
        return await response.value();
    }

}
